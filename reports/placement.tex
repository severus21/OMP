\section{Placement algorithm}
M is the higest id allocated to a node.
Dead nodes ares stored as a prefix binary tree with the number of leaves stored in each node.
We use a prefix binary tree as a sckeleton for HRW.

dead(prefix) = {nodes in dead nodes with this prefix}
|dead(prefix)| = value of the node indexed by prefix in Dead nodes tree ie (O(log(m-n)~state that m-n is a constant(if m-n>K then reallocate id such that m=n))

LEN = bits len of an identifier\\
len(prefix) = number of bits in prefix\\
$len^{-1} = LEN-len(prefix)$ \\
prefix|X = $prefix * 2 + X$
prefix|0\_ = $prefix * 2^{len^{-1}(prefix)}$\\
prefix|1\_ = $prefix * 2^{len^{-1}(prefix)} + \sum_{i=0}^{len^{-1}(prefix)}{2^i}$\\
load(prefix) = |{number of nodes(alive) with this prefix}| / |{number of nodes(alive)}\\
load(prefix) =  ln{if prefix|1\_ < m then $len^{-1}(prefix)$ else $m-prefix+1$}\\

$max(wrand(prefix|0,x),wrand(prefix|1,x))$\\
$X_i \in [|0..\alpha(i) M|]$, we assume that $\alpha(i) M \in \mathbb{N}$\\
$X_i indep$\\

$\sum_{i=0}^{n}{\beta(i)} = 1$\\
Let $\alpha(i) = \ln{\beta(i)}$\\

\begin{tabular}{lcl}
 $Pr(\max_{i \in [|1..n|]}{X_i} = X_0)$ & = & $Pr(\bigwedge_{k=0}^{\alpha(0) M} X_0=k \wedge \max_{i \in [|1..n|]}{X_i} \le k)$\\
  & $=_{disjoint and indep}$ & $\sum_{k=0}^{\alpha(0) M}{ Pr(X_0=k) \times Pr(\max_{i \in [|1..n|]}{X_i} \le k) }$\\
  %& = & $\sum_{k=0}^{\alpha(i) M}{ \frac{1}{\alpha(0) M + 1} \times Pr(\wegde_{i \in [|1..n|]}{X_i} \le k) }$\\
  & $=_{indep}$ & $\sum_{k=0}^{\alpha(0) M}{\frac{1}{\alpha(0) M + 1} \times \prod_{i=1}^{n}{Pr(X_i \le k) } }$\\
  & $=_{indep}$ & $\sum_{k=0}^{\alpha(0) M}{\frac{1}{\alpha(0) M + 1} \times \prod_{i=1}^{n}{ \frac{k+1}{\alpha(i)M+1} } }$\\
  & $=$ & $\sum_{k=0}^{\alpha(0) M}{(k+1)^{n} \times \prod_{i=0}^{n}{ \frac{1}{\alpha(i)M+1} } }$\\
  & $=$ & $\prod_{i=0}^{n}{ \frac{1}{\alpha(i)M+1} }  \times \sum_{k=0}^{\alpha(0) M}{(k+1)^{n}}$\\
  & $=$ & $\prod_{i=0}^{n}{ \frac{1}{\alpha(i)} } \times \frac{1}{M+1}^{n+1} \times \sum_{k=0}^{\alpha(0) M}{(k+1)^{n}}$\\
  & $=$ & $\prod_{i=0}^{n}{ \frac{1}{\alpha(i)} } \times \frac{1}{M+1} \times (\alpha(0) +\frac{1}{M+1})^{n}$\\
  & $=$ & $\prod_{i=0}^{n}{ \frac{1}{\alpha(i)} } \times (1 +\frac{1}{\alpha(0)(M+1)})^{n}$\\
  & $=$ & $\alpha(0)^{-1} \times \prod_{i=1}^{n}{ \alpha(0)\alpha(i)^{-1} } \times (1 +\frac{1}{\alpha(0)(M+1)})^{n}$\\
  $\ln{}$ & $=$ & $\ln(\alpha(0)^{-1}) + \sum_{i=1}^{n}{ \ln{\alpha(0)} + \ln{\alpha(i)^{-1}} } + \ln{ (1 +\frac{1}{\alpha(0)(M+1)})^{n}}$\\
  & $=$ & $-\beta(0) + n\beta(0) -  \sum_{i=1}^{n}{\beta(i)} + \ln{ (1 +\frac{1}{\alpha(0)(M+1)})^{n}}$\\
  & $=$ & $(n-1)\beta(0) - (1-\beta(0)) + \ln{ (1 +\frac{1}{\alpha(0)(M+1)})^{n}}$\\
  & $=$ & $n\beta(0) - 1 + \ln{ (1 +\frac{1}{\alpha(0)(M+1)})^{n}}$\\
  & $=$ & $n\beta(0) -1 + 1 - \frac{1}{\alpha(0)(M+1)} + o(\frac{1}{\alpha(0)(M+1)}^{2})$\\
  & $=$ & $n\beta(0) - \frac{1}{\alpha(0)(M+1)} + o(\frac{1}{\alpha(0)(M+1)}^{2})$\\
  $\exp{\ln{}}$ & $=$ & $\frac{\exp{n\beta(0)}}{\exp{\alpha(0)(M+1)}} \times \exp{o(\frac{1}{\alpha(0)(M+1)}^{2})}$\\
  & $=$ & $\frac{\exp{n\beta(0)}}{\beta(0)^{M+1}} \times \exp{o(\frac{1}{\alpha(0)(M+1)}^{2})}$\\

  

\end{tabular}

\begin{algorithmic}
    \State Open = $Q_{n}$
    \State Closed =  $\varnothing$
    \State Faces = $\varnothing$
    \While{ $Open \neq \varnothing$ }
      \State $i_{1}, ..., i_{n} = n-min( Open )$
      \For{ $0 < j \leq n$}
	\State $i_{1}, i_{j-1}, k, i_{j+1} i_{n} = n-min( Open )$
      \EndFor
      \State $ $
    \EndWhile
    \If {$s = 0$}

    \State $i\gets random(0, deg(u)-1)$
    \State $s \gets deg(u)$
    \State $move\_to( end(v,i) )$
       \Else
    \State $p \gets \min_{ \frac{s}{deg(u)}, 1}$
    \If {$random() \leq p$}
      \State $s \gets 0$
    \Else
      \State $reverse\_move$
    \EndIf
      \EndIf
 \end{algorithmic}